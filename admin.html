<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gigant Brother - Admin</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet">
<script src="supabase.js"></script>
</head>
<body class="bg-gray-50 font-sans">

<div class="min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-indigo-600 text-white p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">Gigant Brother - Admin</h1>
    <button id="logoutBtn" class="bg-red-500 px-4 py-2 rounded hover:bg-red-600 hidden">Logout</button>
  </header>

  <!-- Login -->
  <div id="loginDiv" class="flex flex-col justify-center items-center flex-1">
    <h2 class="text-2xl font-semibold mb-4 text-indigo-600">Login Admin</h2>
    <form id="loginForm" class="bg-white p-6 rounded shadow-md w-80 flex flex-col gap-4">
      <input type="text" id="adminUser" placeholder="Usuário" class="border px-3 py-2 rounded" required>
      <input type="password" id="adminPass" placeholder="Senha" class="border px-3 py-2 rounded" required>
      <button type="submit" class="bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700">Entrar</button>
      <div id="loginError" class="text-red-500 text-sm hidden">Usuário ou senha incorretos</div>
    </form>
  </div>

  <!-- Dashboard -->
  <div id="dashboardDiv" class="hidden flex-1 flex flex-col">
    <!-- Tabs -->
    <nav class="bg-white shadow flex space-x-2 p-2">
      <button class="tabBtn bg-indigo-100 px-4 py-2 rounded" data-tab="participantes">Participantes</button>
      <button class="tabBtn bg-indigo-100 px-4 py-2 rounded" data-tab="palpiteiros">Palpiteiros</button>
      <button class="tabBtn bg-indigo-100 px-4 py-2 rounded" data-tab="gabarito">Gabarito</button>
      <button class="tabBtn bg-indigo-100 px-4 py-2 rounded" data-tab="pontuacao">Pontuação</button>
    </nav>

    <!-- Conteúdo das abas -->
    <div class="p-6 flex-1 overflow-auto">

      <!-- Participantes -->
      <div id="participantes" class="tabContent hidden">
        <h2 class="text-xl font-semibold mb-4">Gerenciar Participantes</h2>
        <form id="formParticipante" class="flex gap-2 mb-4">
          <input type="text" id="nomeParticipante" placeholder="Nome do participante" class="border px-3 py-2 rounded flex-1" required>
          <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Adicionar</button>
        </form>
        <div id="listaParticipantes" class="space-y-2"></div>
      </div>

      <!-- Palpiteiros -->
      <div id="palpiteiros" class="tabContent hidden">
        <h2 class="text-xl font-semibold mb-4">Gerenciar Palpiteiros</h2>
        <form id="formPalpiteiro" class="flex gap-2 mb-4">
          <input type="text" id="nomePalpiteiro" placeholder="Nome" class="border px-3 py-2 rounded flex-1" required>
          <input type="date" id="nascimentoPalpiteiro" placeholder="Data de Nascimento" class="border px-3 py-2 rounded" required>
          <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Adicionar</button>
        </form>
        <div id="listaPalpiteiros" class="space-y-2"></div>
      </div>

      <!-- Gabarito da Semana -->
      <div id="gabarito" class="tabContent hidden">
        <h2 class="text-xl font-semibold mb-4">Gabarito da Semana</h2>
        <form id="formGabarito" class="space-y-4">
          <input type="number" id="semanaGabarito" placeholder="Semana" class="border px-3 py-2 rounded w-32" required>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input type="text" id="liderGabarito" placeholder="Líder(s) separados por vírgula" class="border px-3 py-2 rounded">
            <input type="text" id="anjoGabarito" placeholder="Anjo(s) separados por vírgula" class="border px-3 py-2 rounded">
            <input type="text" id="imuneGabarito" placeholder="Imune(s) separados por vírgula" class="border px-3 py-2 rounded">
            <input type="text" id="emparedadosGabarito" placeholder="Emparedado(s) separados por vírgula" class="border px-3 py-2 rounded">
            <input type="text" id="batevoltaGabarito" placeholder="Bate Volta(s) separados por vírgula" class="border px-3 py-2 rounded">
            <input type="text" id="eliminadosGabarito" placeholder="Eliminado(s) separados por vírgula" class="border px-3 py-2 rounded">
          </div>
          <button type="submit" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700">Salvar Gabarito</button>
        </form>
      </div>

      <!-- Pontuação -->
      <div id="pontuacao" class="tabContent hidden">
        <h2 class="text-xl font-semibold mb-4">Pontuação</h2>
        <form id="formPontuacao" class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <input type="number" id="ptsLider" placeholder="Pontos Líder" class="border px-3 py-2 rounded">
          <input type="number" id="ptsAnjo" placeholder="Pontos Anjo" class="border px-3 py-2 rounded">
          <input type="number" id="ptsImune" placeholder="Pontos Imune" class="border px-3 py-2 rounded">
          <input type="number" id="ptsEmparedado" placeholder="Pontos Emparedado" class="border px-3 py-2 rounded">
          <input type="number" id="ptsBatevolta" placeholder="Pontos Bate Volta" class="border px-3 py-2 rounded">
          <input type="number" id="ptsEliminado" placeholder="Pontos Eliminado" class="border px-3 py-2 rounded">
          <button type="submit" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 col-span-full">Salvar Pontuação</button>
        </form>
      </div>

    </div>
  </div>

</div>

<script>
// LOGIN SIMPLES
const loginDiv = document.getElementById('loginDiv');
const dashboardDiv = document.getElementById('dashboardDiv');
const logoutBtn = document.getElementById('logoutBtn');
const loginForm = document.getElementById('loginForm');

loginForm.addEventListener('submit', e=>{
  e.preventDefault();
  const user = document.getElementById('adminUser').value;
  const pass = document.getElementById('adminPass').value;
  if(user==='admin' && pass==='admin'){
    loginDiv.classList.add('hidden');
    dashboardDiv.classList.remove('hidden');
    logoutBtn.classList.remove('hidden');
  } else {
    document.getElementById('loginError').classList.remove('hidden');
  }
});

logoutBtn.addEventListener('click', ()=>{
  dashboardDiv.classList.add('hidden');
  loginDiv.classList.remove('hidden');
  logoutBtn.classList.add('hidden');
  loginForm.reset();
});

// TABS
document.querySelectorAll('.tabBtn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.tabContent').forEach(tc=>tc.classList.add('hidden'));
    const tab = btn.dataset.tab;
    document.getElementById(tab).classList.remove('hidden');
  });
});

// Aqui entraremos com integração Supabase
// Funções para listar e cadastrar participantes, palpiteiros, gabarito e pontuação
</script>

</body>
</html>
